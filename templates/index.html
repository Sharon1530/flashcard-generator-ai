<!DOCTYPE html>
<html>
<head>
  <title>AI Flashcard Generator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: auto; padding: 20px; }
    .flashcard { border-bottom: 1px solid #ccc; margin-bottom: 20px; padding-bottom: 10px; }
    textarea, input[type="text"] { width: 100%; }
  </style>
</head>
<body>
  <h1>üìö AI Flashcard Generator</h1>
  <form method="post" enctype="multipart/form-data">
    <label>Upload a .pdf or .txt file:</label><br>
    <input type="file" name="uploaded_file"><br><br>

    <label>Or paste content:</label><br>
    <textarea name="pasted_text" rows="10" placeholder="Paste your notes here..."></textarea><br><br>

    <label>Subject (optional):</label><br>
    <input type="text" name="subject" placeholder="e.g. Biology"><br><br>

    <button type="submit">Generate Flashcards</button>
  </form>

  {% if flashcards %}
    <h2>Generated Flashcards ({{ flashcards|length }})</h2>
    {% for fc in flashcards %}
      <div class="flashcard">
        <p><strong>Topic:</strong> {{ fc.Topic }} | <strong>Difficulty:</strong> {{ fc.Difficulty }}</p>
        <p><strong>Q:</strong> {{ fc.Question }}</p>
        <p><strong>A:</strong> {{ fc.Answer }}</p>
      </div>
    {% endfor %}
    <br>
    <a href="/download/csv">‚¨áÔ∏è Download CSV</a> |
    <a href="/download/json">‚¨áÔ∏è Download JSON</a>
  {% endif %}
</body>
</html>
